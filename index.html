<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Login Page in HTML with CSS Code Example</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="MasonM_MasonM color.jpg">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"><link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div class="box-form">
	<div class="left">
		<div class="overlay">

		<h1>Mason Student Guide</h1>
		<br><br><br><br>
		<h2>Enroll Like a Pro: The Ultimate Resource for New University Students</h2>
		<span>
			<p>login with social media</p>
			<a href="https://www.facebook.com/georgemason/"><i class="fa fa-facebook" aria-hidden="true"></i></a>
			<a href="https://twitter.com/GeorgeMasonU?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor"><i class="fa fa-twitter" aria-hidden="true"></i> Login with Twitter</a>
		</span>
		</div>
	</div>
	
	
		<div class="right">
		<h5>Login</h5>
		<!-- <p>Don't have an account? <a href="#">Creat Your Account</a> it takes less than a minute</p> -->
		<div class="inputs">
			<form id="login-form">
			<input type="text" id="netid" placeholder="Net Id">
			<br>
			<input type="password" id="password" placeholder="password">
		</div>
			
			<br><br>

		<div class="remember-me--forget-password">
				<!-- Angular -->
	<label>
		<input type="checkbox"  name="item" checked/>
		<span class="text-checkbox">Remember me</span>
	</label>
	<br>
			<!-- <p>forget password?</p> -->
		</div>
			
			<br>
			<button type="submit" id="loginBtn">Login</button>
		</form>
	</div>
	
</div>
<!-- partial -->
<script>
    const form = document.getElementById('login-form');
    form.addEventListener('submit', function(event) {
      event.preventDefault();
      const username = document.getElementById('netid').value;
      const password = document.getElementById('password').value;
      const data = { username, password };
      fetch('http://localhost:3000/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      .then(response => {
        if (response.ok) {
			
          window.location.replace("/secondpage.html");
        } else {
          throw new Error('Error: ' + response.statusText);
        }
      })
      .catch(error => {
        alert(error.message);
      });
    });
  </script>


</body>
</html>
